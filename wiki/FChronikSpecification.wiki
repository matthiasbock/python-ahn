#summary Data Becker File Format Specification

= Data Becker FChronik - File Format Specification =

The _Data Becker Familienchronik_ family tree software uses a proprietary file format to save it's genealogy data. File extension is *.ahn*.

== Format ==

Every file starts with four magic bytes, followed by datasets, one dataset per person.
 * 04 bytes: magic <0x01> <0x00> <0x00> <0x00>

One dataset consist of a predefined sequence of fields. Also every field has a predefined length.
This results in every dataset having exactly 1096 bytes. 

A field can be one of the three field types:
 * string,
 * date or
 * binary

Strings smaller than their appropriate field length are padded with spaces:
 * <0x20>
The actual information is aligned left or right, depending on the field:

|| *Field(s)* || *Alignment* || *Possible values* ||
|| Names || left ||
|| Towns || left ||
|| Gender || center || männlich, weiblich ||
|| Religion || left || katholisch, evangelisch and others ||
|| Occupation || left ||

In analogous manner, binary encoded information is padded with zeroes:
 * <0x00>

Each field of the date type has a length of 10 bytes. Dates are represented by dot separated ASCII digits:
 * *DD.MM.YYYY*

== Fields ==

{{{
Fields = [	
		("Name", string, 20, left),
		("Geburtsname", string, 20, left),
		("Erster Vorname", string, 20, left),
		("Weitere Vornamen", string, 20, left),

		# 10 x 0x20
		("spaces1", string, 10, left),

		("geboren am", date, 10, None),
		("geboren in", string, 30, left),

		("getauft am", date, 10, None),
		("getauft in", string, 30, left),

		("Geschlecht", string, 8, left),
		("Konfession", string, 12, left),
		("Beruf", string, 39, left),

		("gestorben am", date, 10, None),
		("gestorben in", string, 30, left),

		("Alter", string, 15, left),

		("beerdigt am", date, 10, None),
		("beerdigt in", string, 30, left),

		# 300 x 0x20
		("spaces2", string, 300, left),

		("binary1", binary, 12, right),

		("Hochzeit am", date, 10, None),
		("Hochzeit in", string, 30, left),

		("binary2", binary, 76, right),
		("string1", string, 40, left),
		("binary3", binary, 76, right),
		("string2", string, 40, left),
		("binary4", binary, 76, right),
		("string3", string, 38, left),
		("binary5", binary, 74, right)
	]

}}}

== Characterset ==

Strings is standard ASCII. Explicit qualifiers, e.g. the gender, are german.

In german special vowels exist, ä, ö and ü, as well as a special s, the ß. Their hexadecimal representations are:
 * ä <0xE4>
 * ö <0xF6>
 * ü <0xFC>
 * ß <0xDF>